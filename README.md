# CIKM - 18

Steps to generate author embeddings:

1. Create ACA and APA matrices:
```
$ python3.6 matrices.py -h
usage: matrices.py [-h] [-s SIMILARITY]

Generate APA and ACA matrices using given similarity measure.

optional arguments:
  -h, --help            show this help message and exit
  -s SIMILARITY, --similarity SIMILARITY
                        Similarity measure between author nodes. Choose among following: 
                        cn - Common neighbour 
                        jc - Jaccard Coefficient 
                        aa - Adamic-Adar 
                        ra - Resource Allocation. (default: cn)

```
2. Generate author contexts using ACA and APA matrices:
```
$ python3.6 context.py -h
usage: context.py [-h] [-c COMBINE] [-s SIMILARITY] [-a ALPHA]

Generate contexts from ACA and/or APA matrices.

optional arguments:
  -h, --help            show this help message and exit
  -c COMBINE, --combine COMBINE
                        Combination of similarity scores from APA and ACA matrices. Choose among aca,apa,sum,alpha. (default: aca)
  -s SIMILARITY, --similarity SIMILARITY
                        Similarity measure between author nodes. Choose among cn,jc,aa,ra. (default: cn)
  -a ALPHA, --alpha ALPHA
                        Alpha value used in conjunction with alpha combination rule. 
                        similarity = alpha * ACA + (1 - alpha) * APA 
                        Value between 0 and 1. (default: 0.5)

```
3. Generate author embeddings using contexts.
```
$ python3.6 embedding.py -h
usage: embedding.py [-h] -c CONTEXT [-m MODEL] [-d DIMENSION] [-w WINDOW_SIZE]
                    [-t NUM_THREADS]

Generate author embeddings.

optional arguments:
  -h, --help            show this help message and exit
  -c CONTEXT, --context CONTEXT
                        Context file(REQUIRED, default: None)
  -m MODEL, --model MODEL
                        Model used for generating vectors. 
                        0 - CBOW, 1 - skip-gram (default: 0)
  -d DIMENSION, --dimension DIMENSION
                        Dimension of vectors generated by Word2Vec(default: 100)
  -w WINDOW_SIZE, --window WINDOW_SIZE
                        Window size used for generating contexts(default: 5)
  -t NUM_THREADS, --threads NUM_THREADS
                        Number of threads used for generating contexts(default: 42)
```

## Example

To generate author embeddings using similarity measure as resource allocation and combination rule as sum, run the following commands:
```
$ python3.6 matrices.py -s ra
$ python3.6 context.py -c sum -s ra
$ python3.6 embedding.py -f contexts/context_sum_ra.txt
```
